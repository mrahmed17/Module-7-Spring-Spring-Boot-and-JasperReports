<div class="container">
  <h1>Attendance Report</h1>

  <div class="date-range">
    <label for="startDate">Start Date:</label>
    <input type="date" id="startDate" [(ngModel)]="startDate" />

    <label for="endDate">End Date:</label>
    <input type="date" id="endDate" [(ngModel)]="endDate" />

    <button (click)="getAttendanceInRange()">Fetch Attendance</button>
  </div>

  <div class="search">
    <label for="nameSearch">Search by Name:</label>
    <input type="text" id="nameSearch" [(ngModel)]="nameSearch" (input)="searchByName()" placeholder="Enter name" />
    <button (click)="resetFilters()" class="btn btn-secondary">Reset Filters</button>
  </div>

  <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>

  <div class="attendance-table">
    <table class="table">
      <thead>
        <tr>
          <th>User Name</th>
          <th>Attendance Count</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let attendance of filteredAttendance">
          <td>{{ attendance.user.fullName }}</td>
          <td>{{ attendance.attendanceCount }}</td>
          <td>
            <button (click)="viewDetails(attendance)" class="btn btn-info">View Details</button>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="filteredAttendance.length === 0" class="alert alert-warning">No attendance records found.</div>
  </div>

</div>