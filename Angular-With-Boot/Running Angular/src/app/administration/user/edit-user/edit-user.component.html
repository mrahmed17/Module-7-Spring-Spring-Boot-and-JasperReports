<div *ngIf="isLoading" class="loading">Loading...</div>
<div *ngIf="!isLoading">
 <h2>Edit User</h2>
 <form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)">
  
  <div class="form-group">
   <label for="fullName">Full Name:</label>
   <input type="text" id="fullName" name="fullName" [(ngModel)]="user.fullName" required class="form-control" />
<div *ngIf="userForm.controls['fullName']?.invalid && userForm.controls['fullName']?.touched" class="text-danger">
 Full Name is required.
</div>
  </div>

  <div class="form-group">
   <label for="email">Email:</label>
   <input type="email" id="email" name="email" [(ngModel)]="user.email" required class="form-control" />
<div *ngIf="userForm.controls['email']?.invalid && userForm.controls['email']?.touched" class="text-danger">
 Valid Email is required.
</div>
  </div>

  <div class="form-group">
   <label for="address">Address:</label>
   <input type="text" id="address" name="address" [(ngModel)]="user.address" class="form-control" />
  </div>

  <div class="form-group">
   <label for="gender">Gender:</label>
   <select id="gender" name="gender" [(ngModel)]="user.gender" required class="form-control">
    <option value="">Select Gender</option>
    <option value="Male">Male</option>
    <option value="Female">Female</option>
    <option value="Other">Other</option>
   </select>
  <div *ngIf="userForm.controls['gender']?.invalid && userForm.controls['gender']?.touched" class="text-danger">
   Gender is required.
  </div>
  </div>

  <div class="form-group">
   <label for="dateOfBirth">Date of Birth:</label>
   <input type="date" id="dateOfBirth" name="dateOfBirth" [(ngModel)]="user.dateOfBirth" class="form-control" />
  </div>

  <div class="form-group">
   <label for="nationalId">National ID:</label>
   <input type="text" id="nationalId" name="nationalId" [(ngModel)]="user.nationalId" class="form-control" />
  </div>

  <div class="form-group">
   <label for="contact">Contact:</label>
   <input type="text" id="contact" name="contact" [(ngModel)]="user.contact" class="form-control" />
  </div>

  <div class="form-group">
   <label for="basicSalary">Basic Salary:</label>
   <input type="number" id="basicSalary" name="basicSalary" [(ngModel)]="user.basicSalary" required class="form-control"
    min="0" />
 <div *ngIf="userForm.controls['basicSalary']?.invalid && userForm.controls['basicSalary']?.touched" class="text-danger">
  Basic Salary is required and must be positive.
 </div>
  </div>

  <div class="form-group">
   <label for="isActive">Active:</label>
   <input type="checkbox" id="isActive" name="isActive" [(ngModel)]="user.isActive" />
  </div>

  <div class="form-group">
   <label for="role">Role:</label>
   <input type="text" id="role" name="role" [(ngModel)]="user.role" required class="form-control" />
<div *ngIf="userForm.controls['role']?.invalid && userForm.controls['role']?.touched" class="text-danger">
 Role is required.
</div>
  </div>


   <div class="form-group">
    <label for="profilePhoto">Profile Photo:</label>
    <input type="file" id="profilePhoto" (change)="onPhotoSelected($event)" class="form-control" />
   </div>

  <button type="submit" class="btn btn-primary" [disabled]="userForm.invalid">Update User</button>
 </form>
</div>